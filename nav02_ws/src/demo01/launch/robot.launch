<launch>


  

  <!-- 加载机器人模型 -->
  <param name="robot_description" command="$(find xacro)/xacro '$(find demo01)/URDF/car.xacro'" />
  <include file="$(find gazebo_ros)/launch/empty_world.launch">
    <arg name="world_name" value="$(find demo01)/world/box_house.world"/>
  </include>
  <!-- 在Gazebo中生成机器人 -->
  <node name="spawn_urdf" pkg="gazebo_ros" type="spawn_model" args="-param robot_description -urdf -model diffbot" />
  

  
  <!-- 加载控制器 -->
  <rosparam command="load" file="$(find demo01)/config/control.yaml" />
  <node name="controller_manager" pkg="controller_manager" type="spawner" 
        args="diff_drive_controller --shutdown-timeout 3"/>
  
  <!-- 发布静态TF -->
  <node pkg="robot_state_publisher" type="robot_state_publisher" name="robot_state_publisher"/>
  
  <!-- 启动RViz -->
  <node type="rviz" name="rviz" pkg="rviz"  />

  <!-- 启动键盘控制 (测试用) -->
  <!--<node pkg="teleop_twist_keyboard" type="teleop_twist_keyboard.py" name="teleop" output="screen"/>-->
</launch>